<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTC-8">
        <title>Rock Paper Scissors</title>
    </head>
    <body>
        <script>
            const rock = "Rock";
            const paper = "Paper";
            const scissors = "Scissors";
            const win = "You win :) !";
            const lose = "You lose :( ! Try again!";
            const tie = "You're tied. Try again!";

            function getComputerChoice(){
                const choices = [rock, paper, scissors];
                const randomNum = Math.floor(Math.random()*3);
                return choice = choices[randomNum];
            }
           

            function constructMessage(result){
                return `You played ${result[0]}. Computer played ${result[1]}. ${result[2]}`;
            }

            function rockCompareWithComputer(selection){
                switch(selection.toLowerCase()){
                    case "rock":
                        return [rock, selection, tie];
                        break;
                    case "paper":
                        return [rock, selection, lose];
                        break;
                    case "scissors":
                        return [rock, selection, win];
                }
            }

            function paperCompareWithComputer(selection){
                switch(selection.toLowerCase()){
                    case "rock":
                        return [paper, selection, win];
                        break;
                    case "paper":
                        return [paper, selection, tie];
                        break;
                    case "scissors":
                        return [paper, selection, lose];
                }
            }

            function scissorsCompareWithComputer(selection){
                switch(selection.toLowerCase()){
                    case "rock":
                        return [scissors, selection, lose];
                        break;
                    case "paper":
                        return [scissors, selection, win];  
                        break;
                    case "scissors":
                        return [scissors, selection, tie];
                }
            }

            function playRounds(playerSelection, computerSelection) {
                switch(playerSelection.toLowerCase()){
                    case "rock":
                        return rockCompareWithComputer(computerSelection);
                        break;
                    case "paper":
                        return paperCompareWithComputer(computerSelection);
                        break;
                    case "scissors":
                        return scissorsCompareWithComputer(computerSelection);
                }
                
            }
            
            const setRounds = prompt("How many rounds would you like to play?");
      
            function game(rounds){
                let playerScore = 0;
                let computerScore = 0;

                for(i=0; i<rounds; i++){
                    const playerSelection = prompt("Rock, paper or scissors? Type in your selection:");
                    const computerSelection = getComputerChoice();
                    const result = playRounds(playerSelection, computerSelection);

                    switch(result[2]){
                        case win:
                            playerScore++;
                            break;
                        case lose:
                            computerScore++;

                    console.log(constructMessage(result))

                    }
                }
                if(playerScore > computerScore){
                    return win;
                }else if(playerScore < computerScore) {
                    return lose;
                }else {
                    return tie;
                }
            }
            console.log(game(setRounds));
        </script>
    </body>
</html>